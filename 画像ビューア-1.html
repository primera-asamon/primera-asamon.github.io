<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>画像ビューア</title>
  <style>
    body { margin: 0; text-align: center; background: #000; }
    img { max-width: 100%; max-height: 100vh; }
  </style>
</head>
<body>
  <img id="main-image" src="" alt="画像">
  <script>
    const imageList = ["img1.jpg", "img2.jpg", "img3.jpg"];
    const urlParams = new URLSearchParams(window.location.search);
    let currentIndex = parseInt(urlParams.get("index")) || 0;

    function showImage(index) {
      document.getElementById("main-image").src = imageList[index];
    }

    function nextImage() {
      if (currentIndex < imageList.length - 1) {
        currentIndex++;
        showImage(currentIndex);
      }
    }

    function prevImage() {
      if (currentIndex > 0) {
        currentIndex--;
        showImage(currentIndex);
      }
    }

    // 初期表示
    showImage(currentIndex);

    // クリックで次へ
    document.body.addEventListener("click", nextImage);

    // マウスホイールで前後
    document.body.addEventListener("wheel", function(e) {
      if (e.deltaY < 0) prevImage();
      else if (e.deltaY > 0) nextImage();
    });

    // キーボード操作も追加可能（← →）
    document.addEventListener("keydown", function(e) {
      if (e.key === "ArrowLeft") prevImage();
      if (e.key === "ArrowRight") nextImage();
    });
  </script>
</body>
</html>